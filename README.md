# Element Hunter

WebサイトのHTML要素をハントする2Dシューティングゲーム。

クローラーで取得したサイト構造をもとに、逃げ出したHTML要素（`<h1>`, `<p>`, `<img>`など）を宇宙船で追いかけてレーザーで捕獲します。

**[今すぐプレイ](https://happymanokajima.github.io/element-hunter/)**

スマホでプレイ:

![QRコード](https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://happymanokajima.github.io/element-hunter/)

## ゲーム概要

- **ジャンル**: 2Dシューティング / タイムアタック
- **コンセプト**: 「Webサイトを探索しながらHTML要素をハントする」
- **エンジン**: [Kaboom.js](https://kaboomjs.com/)

## 遊び方

### 難易度

| モード | ターゲット数 | 敵の数 | ボスHP | 目安時間 |
|--------|--------------|--------|--------|----------|
| EASY | 3ページ | 少なめ | 軽め (×1) | 約1分 |
| NORMAL | 5ページ | 通常 | 重め (×2) | 約2-3分 |

### 操作

**PC (キーボード)**
| キー | 操作 |
|------|------|
| 矢印キー | 移動（慣性あり） |
| スペース | レーザー発射 |
| ESC | ポーズ |

**スマホ (タッチ)**
| 操作 | 説明 |
|------|------|
| 左下ジョイスティック | 移動 |
| 右下FIREボタン | レーザー発射 |
| 右上||ボタン | ポーズ |

### ルール

1. ターゲットページ（右パネルに表示）を探索
2. 各ページの敵（HTML要素）をすべてハント
3. **ボスがいるページでは、通常敵を全滅させるとボスが出現**
4. 全ターゲットページをクリアするまでの時間を競う

### ボス戦

テキストを持たないHTML構造要素（`<section>`, `<article>`, `<nav>`など）が多いページでは、ボスが出現します。

- 通常敵を全滅させると **"WARNING!"** が表示されボス登場
- ボスは複数のタグパーツで構成され、**円形に回転しながら移動**
- ボスを倒すまでページクリアにはなりません

### ポータルナビゲーション

ページ間を移動するポータル（リンク）には色分けがあります：

| 色 | 意味 |
|----|------|
| 水色 | 未訪問ページ |
| 紫 | 訪問済みページ |
| 金（★） | ターゲットページへ直接移動 |
| 黄緑（☆） | ターゲットへの経路上にあるページ |
| グレー | クロール範囲外（移動不可） |

★☆マークを追いかけることで、効率的にターゲットページへ到達できます。

### バーストシステム

高速移動でレーザーがパワーアップ！

| 速度ゲージ | 貫通 | ダメージ | 効果 |
|-----------|------|---------|------|
| 0-49% | なし | 1 | 通常レーザー |
| 50-99% | あり | 2 | 中バースト（貫通） |
| 100% | あり | 3 | **MAXバースト**（最大火力） |

### 敵のHP（レアリティ別）

| レアリティ | HP | 通常 | 中バースト | MAXバースト |
|-----------|-----|------|-----------|------------|
| ★1 白 | 1 | 1発 | 1発 | 1発 |
| ★2 緑 | 2 | 2発 | 1発 | 1発 |
| ★3 青 | 3 | 3発 | 2発 | 1発 |
| ★4 紫 | 6 | 6発 | 3発 | 2発 |
| ★5 金 | 9 | 9発 | 5発 | 3発 |

### テクニック

- **高速移動でパワーアップ**: 速度が上がるとレーザーが長く・太く・強くなる
- **貫通レーザー**: 速度50%以上で複数の敵を貫通、一掃を狙おう
- **コンボボーナス**: 1発で複数の敵を倒すとタイム短縮
- **MAXバースト狙い**: 速度100%で最大ダメージ、ボス戦で有効

### クリア特典

ゲームクリア後、訪れたページへのリンク一覧が表示されます。実際のサイトをチェックしてみましょう！

## セットアップ

```bash
# 依存関係のインストール
npm install

# 開発サーバー起動
npm run dev

# ビルド
npm run build
```

## サイトデータの追加

`data/sites/` にクロールデータ（JSON）を配置することで、任意のサイトをステージとして遊べます。

クローラーの使い方:

```bash
npm run crawl -- --url https://example.com --depth 3
```

### クローラー利用時の注意事項

- **自分が管理するサイトでの利用を推奨**します
- 他者のサイトをクロールする場合は、必ず `robots.txt` を確認してください
- サーバーに過度な負荷をかけないよう、アクセス間隔に注意してください
- クロールしたコンテンツ（テキスト・画像）の著作権は元サイトに帰属します
- 商用利用の場合は、コンテンツの利用許諾を確認してください

## 技術スタック

- TypeScript
- Vite
- Kaboom.js
- Playwright（クローラー）
- Web Audio API（効果音生成）

## ライセンス

MIT
